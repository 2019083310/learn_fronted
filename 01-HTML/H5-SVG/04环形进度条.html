<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            text-align: center;
        }
        svg{
            text-align: center;
        }
    </style>
</head>
<body>
    <svg width='700' height='700'>
        <!-- 底层的圆环 -->
        <circle cx='350' cy='350' r='200' fill='none' stroke='grey' stroke-width='40' stroke-linecap="round" />
        <!-- 设置进度条 -->
        <circle cx='350' cy='350' r='200' fill='none' stroke-width='40' stroke-linecap="round" stroke='red' stroke-dashoffset="0,1000" class='progress' transform="rotate(-90,350,350)"/>
        <!-- 设置文本 -->
        <text x='280' y='380' class='text' fill='red' font-size="80" >0</text>
    </svg>
    <script>
        let pro=document.querySelector('.progress');
        let text=document.querySelector('.text');
        function rotate(persent){
            let cirLength=Math.floor(2*Math.PI*parseFloat(pro.getAttribute('r')));
            //算出进度环的长度
            let value=persent*cirLength/100;
            //设置颜色
            let r=Math.round(Math.random()*255);
            let g=Math.round(Math.random()*255);
            let b=Math.round(Math.random()*255);
            //设置进度条的路径颜色变化
            pro.setAttribute('stroke-dasharray',value+"0,1000");
            pro.setAttribute('stroke',`rgb(${r},${g},${b})`);
            //设置文本
            text.innerHTML=persent+'%';
            text.setAttribute('fill',`rgb(${r},${g},${b})`);
        }
        let num=0;
        setInterval(()=>{
            num++;
            if(num>100){
                num=0
            }
            rotate(num);
        },200);
    </script>
</body>
</html>